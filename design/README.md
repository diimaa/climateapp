# Описание пользовательского взаимодействия

## Вид интерфейса (экран управления)
Основной принцип приложения для управления климатической системой в двухкомнатной квартире делится на две аксиомы:
1. Интерфейс точки входа должен выполнять те хе функции, что обычный пульт ДУ-управления с ИК-передатчиком.
2. Возможности программирования и тонкой настройки каждого климатического прибора в каждом помещении должны превосходить в разы возможности обычного пульта ДУ-управления.

Выполняя эти две аксиомы, интерфейс станет помощником в решении климатических задач внутри помещения.

## Модульный принцип
(Не реализовано в дизайне.)
Интерфейс приложения построен по модульному принципу с возможностью дополнять и расширять функционал в зависимости от возможностей прибора. 

Каждая механика взаимодействия проектируется исходя из собственного веса востребованности. Например, функция включения и выключения прибора является не самой востребованной, но идеологически и практически она одна из самых необходимых. Поэтому ей место во множестве состояний.

Например, сделав long tap на цифре текущей температуры, вызывается специальное меню, позволяющее выполнить два действия: перевести полное отключение прибора (обесточить, Power Off) и перевести его в режим ожидания или сна (Standby). Обычно у пультов управления климатическими приборами есть только одно кнопка — ON/OFF. При этом такие приборы нельзя выключить полностью в случае, если нужно уйти быстро или произвести выключение уже по ходу движения извне. Выключая прибор с пульта в случае, если настроен таймер включения, он автоматически сработает, если не будет принудительно отключен специальной кнопкой Cancel в особой зоне пульта ДУ. Имея две функции выключения, можно управлять возможностями: отключить прибор в данный момент с сохранением программы таймера или полностью выключить прибор и не беспокоиться о нем, а так же сохранить электроэнергию.

## Экран управления
Управляющая панель разделена на три группы данных:
1. статус-бар с навигационной панелью состояния, меню и настроек прибора,
2. выбор зоны применения настроек — переключается очевидным образом между двумя зонами, подписанными реальными именами,
3. основной блок индикации и управления.

### Эффект «родная комната»
При настройке подключения к прибору и регистрации его в системе и приложении возможно задать индивидуальную картинку фона. С помощью встроенной в iPhone камеры можно снять кадр в интерьере комнаты и он будет использоваться при переключении в данное пространство для быстрой идентификации.

Если подгрузить в приложение заранее сделанное изображение с панорамой, то картинка в фоне будет смещаться на 1/2 или 1/4 позиции при вращении прибора управления (iPhone) в плоскости компаса, создавая тем самым приятную анимацию в фоне.

### Принцип «работы от действия»
Основной режим работы системы в конкретной зоне выбирается из списка и является ключевой функцией.

Всего доступно 4 основных и 2 сервисных варианта эксплуатации:
1. **охлаждение** (в диапазоне от +16° до 26° Цельсия при наружной температуре от -10° до +46° Цельсия);
2. **обогрев** (в диапазоне от +23° до 32° Цельсия при наружной температуре от -10° до +16° Цельсия);
3. **вентиляция** (работает в любых диапазонах, доступных для запуска внутреннего блока прибора с поддержанием работы внешнего блока — от -10° до +46° Цельсия);
4. **осушение** (режим, при котором происходить интенсивное осушение воздуха за счет нагревания до средней комнатной температуры радиатора с прогоном кондиционированного воздуха, температура которого на один градус ниже текущей измеренной);
5. **очистка** (принудительная или регулярная);
6. **таймер** (ожидание срабатывания таймера включения).

### Меню
В меню собраны дополнительные функции, размещение которых нецелесообразно вместе с базовыми, а также быстрые регулировки тех функций, что доступны по умолчанию.
Им меню можно выключить прибор и настроить его дополнительные параметры работы, не залезая в настройки.

### Настройки
Разделенный на сущности набор действий, так или иначе влияющий на интерфейс и возможности оперирования прибором.

Основные настройки:
1. глобальные (для системы в целом),
2. локальные (для конкретно выбранного прибора).

Локальные настройки предполагают следующие виды взаимодействий:
1. Настройка соединения (подключение приборов, установление параметров авторизации и защиты, настройка авторизации в интернет-сервис удаленного управления, регулировки.
2. Настройки прибора: доступные режимы, ограничения, диапазоны, программы/пресеты, настройка уведомлений, регулировка автоматических функций.
3. Диагностические функции: диагностика прибора, обновление прошивки, обращение в сервисный центр.
4. Подключение внешних датчиков измерения климатических данных.

### Выбор точки управления
Управлять можно двумя раздельными устройствами в единой климатической системе. Выбор осуществляется однозначно. Каждое устройство можно запрограммировать раздельно или назначить одно устройство Master (основным), а второе Slave (управляемым) для синхронизации текущий настроек.

### Показания встроенного температурного датчика
Для автоматической или индивидуальной ручной конфигурации, а также работе по программе/пресету необходимо иметь точку достижения цели. Данной точкой должна считаться цифра показателя текущей температуре. В случае выхода за настроенный диапазон производится уведомление о нештатной ситуации (push-сообщение).

### Термостат
Настройка термостата очень проста: цифра в круге показывает текущее значение настройки работы устройства, а сам круг — регулятор температуры. Вращение по часовой стрелке увеличивает (прибавляет) значение на единицу, против часовой стрелки — уменьшает.

Во время работы термостата до достижения необходимого значения (интенсивная работа) круг импульсно подсвечивается, сигнализируя процесс работы. Отсутствие анимации (спокойный режим) означает выполнение программы поддержания заданного значения (спокойная работа).

### Кнопка выбора программы/пресета
Специальная кнопка с подписью сверху, показывающая какая программа в данный момент исполняется. Если используется ручной режим без программы и/или таймера, информация о типе исполняемой программы скрывается.

Выбор программы/пресета делится на 3 части:
1. работа по таймеру;
2. сервисные функции (очистка);
3. пользовательские программы (выбор, сохранение и настройка).

### 4 основных регулятора климатического оборудования
#### Скорость вращения барабана (сила ветра)
Нажатие на кнопку с пиктограммой ветра вызывает специальный фейдер, на котором показано текущее положение и указан в процентах показатель скорости вращения. Допускается смена указателя с процентов на объем прокачиваемых прибором кубических метров (или литров) в минуту (регулировка в настройках или из меню).

#### Направление воздушного потока
Для управления воздушным потоком климатические приборы использую аэродинамические шторки: вертикальные и горизонтальные. Современные приборы (класса Middle+ и Premium) позволяют дистанционно управлять углом вертикальных и горизонтальных шторок. Обычно это две раздельные кнопки с циклическими переключателями, в редких случаях 4 кнопки в форме джойстика.

В этом интерфейсе запланировано применение одного регулятора в виде jog-dial: круговой джойстик, в котором можно одновременно регулировать положение как вертикальных, так и горизонтальных шторок указание направления. У каждого направления имеются участки градации: вертикально — 7 позиций, горизонтально — 5 позиций.

Сброс шторок в положение по умолчанию (оптимальное для режима работы прибора) при необходимости производится из меню.

#### Объем приточной вентиляции
Регулировка приточки аналогична регулировке скорости вращения барабана. В положении 0 подача приточного воздуха из специального клапана прекращается и клапан перекрывается. В положении, отличном от нуля (указывается в процентах) к объему вентилируемого воздуха прибавляется приточный, который обрабатывается в смеси климатическим блоком (в режимах нагрева, охлаждения, вентиляции).

#### Показатель влажности
Немаловажная часть любой климатической системы — процесс осушения воздуха. Этот процесс является побочным, но его можно регулировать в некоторых пределах. Например, используя импульсный принцип работы барабана (чередование ускорения и замедления в некотором диапазоне от установленного значения) побочный эффект осушения воздух в радиаторе охлаждения/нагревания можно сократить.

Регулятор действует в трех режимах:
1. отключен (обычный режим),
2. понижение осушения (импульсный режим работы барабана),
3. режим принудительного осушения (доступен при работе прибора в режиме «Осушение»).